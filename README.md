# 流程引擎平台 - Vue.js 3.0 版本

基于 Vue.js 3.0 重构的流程引擎平台前端项目，完全还原 HTML 原型的功能和设计。

## 🚀 技术栈

- **Vue.js 3.0** - 渐进式 JavaScript 框架
- **Vue Router 4** - 官方路由管理器
- **Tailwind CSS** - 实用优先的 CSS 框架
- **Vite** - 快速的构建工具
- **Font Awesome** - 图标库

## 📦 安装和运行

### 环境要求

- Node.js >= 16
- npm >= 8

### 安装依赖

```bash
npm install
```

### 开发服务器

```bash
npm run dev
```

访问 http://localhost:3000 查看应用。

### 构建生产版本

```bash
npm run build
```

### 预览生产构建

```bash
npm run preview
```

## 🏗️ 项目结构

```
src/
├── assets/           # 静态资源
│   └── css/
│       └── global.css    # 全局样式
├── components/       # 组件
│   ├── Sidebar.vue       # 侧边栏
│   └── AIAssistantButton.vue  # AI助手按钮
├── views/            # 页面视图
│   ├── Dashboard.vue      # 仪表板
│   ├── ProcessList.vue    # 流程列表
│   ├── ProcessDetail.vue  # 流程详情
│   ├── ProcessInstanceDetail.vue  # 流程实例详情
│   ├── Designer.vue       # 流程设计器
│   ├── FormDesigner.vue   # 表单设计器
│   ├── Reports.vue        # 报告分析
│   ├── Users.vue          # 用户管理
│   └── Settings.vue       # 系统设置
├── router/           # 路由配置
│   └── index.js          # 路由定义
├── App.vue           # 根组件
└── main.js           # 应用入口
```

## 🎯 功能特性

### 1. 仪表板 (Dashboard)
- 系统概览统计
- 快速操作入口
- 最近活动时间线
- 流程状态分布图
- 性能指标展示

**自测步骤：**
1. ✅ 访问首页，检查页面布局是否正确
2. ✅ 验证统计卡片的数值显示和样式
3. ✅ 点击"创建流程"按钮，跳转到设计器页面
4. ✅ 检查快速操作按钮的功能
5. ✅ 验证最近活动的显示格式

### 2. 流程管理 (Process List)
- 流程列表展示（卡片/表格视图）
- 搜索和筛选功能
- 批量操作
- 分页显示
- 流程状态管理

**自测步骤：**
1. ✅ 点击左侧菜单"流程管理"，检查跳转是否正确
2. ✅ 测试视图切换（卡片/列表）
3. ✅ 使用搜索功能过滤流程
4. ✅ 测试快速筛选标签
5. ✅ 验证分页功能

### 3. 流程详情 (Process Detail)
- Statistics Overview 统计卡片
- 标签页导航（概览/流程图/实例列表/历史记录/配置）
- 性能指标展示
- 优化建议显示

**自测步骤：**
1. ✅ 从流程列表点击进入详情页面
2. ✅ 检查 Statistics Overview 卡片的样式和数据
3. ✅ 测试标签页切换功能
4. ✅ 查看流程图的显示效果
5. ✅ 检查实例列表的卡片样式

### 4. 流程实例详情 (Process Instance Detail)
- 现代化实例状态卡片
- 任务进度时间线
- 实例信息和流程变量展示

**自测步骤：**
1. ✅ 从流程详情的实例列表进入实例详情
2. ✅ 检查实例状态卡片的配色和布局
3. ✅ 验证时间线的显示效果
4. ✅ 查看基本信息和变量的展示

### 5. 流程设计器 (Designer)
- 拖拽式流程设计
- 工具栏组件
- 画布操作（缩放、移动）
- 属性面板配置

**自测步骤：**
1. ✅ 访问设计器页面，检查工具栏显示
2. ✅ 测试拖拽功能（虽然是模拟的）
3. ✅ 检查画布的基本元素
4. ✅ 验证属性面板的布局

### 6. 表单设计器 (Form Designer)
- 组件拖拽设计
- 表单字段配置
- 实时预览
- 属性设置面板

**自测步骤：**
1. ✅ 访问表单设计器页面
2. ✅ 检查左侧组件工具栏
3. ✅ 查看表单画布区域
4. ✅ 测试右侧属性面板

### 7. 报告分析 (Reports)
- 数据统计图表
- 性能指标展示
- 热门流程排名
- 系统状态监控

**自测步骤：**
1. ✅ 访问报告页面，检查统计卡片
2. ✅ 查看图表占位符的显示
3. ✅ 检查热门流程列表
4. ✅ 验证系统状态指标

### 8. 用户管理 (Users)
- 用户列表展示
- 用户信息卡片
- 角色和权限管理
- 用户状态管理

**自测步骤：**
1. ✅ 访问用户管理页面
2. ✅ 检查用户卡片的布局和信息展示
3. ✅ 查看角色徽章的样式
4. ✅ 测试分页功能

### 9. 系统设置 (Settings)
- 多标签页设置
- 配置表单
- 系统信息展示
- 参数保存功能

**自测步骤：**
1. ✅ 访问设置页面，检查导航菜单
2. ✅ 测试标签页切换
3. ✅ 查看各个设置表单
4. ✅ 检查系统信息卡片

### 10. 全局功能
- 响应式侧边栏导航
- AI 助手按钮
- 统一的页面布局
- 移动端适配

**自测步骤：**
1. ✅ 检查侧边栏的展开/收起
2. ✅ 测试页面跳转
3. ✅ 验证AI助手按钮
4. ✅ 在不同屏幕尺寸下测试响应式

## 🎨 设计特点

1. **现代化UI**：采用渐变背景、圆角设计、阴影效果
2. **一致性**：统一的颜色系统、间距、字体
3. **响应式**：支持桌面、平板、手机等多设备
4. **可访问性**：合理的对比度、键盘导航支持
5. **性能优化**：按需加载、懒加载、代码分割

## 🧩 组件化架构

### 公共组件

项目已完成组件化重构，提取了以下公共组件：

#### 1. **StatCard** - 统计卡片组件
- **位置**: `src/components/common/StatCard.vue`
- **用途**: 显示统计数据和趋势变化
- **自测**:
  - ✅ 正确显示数值、标签和图标
  - ✅ 趋势变化指示器正常工作
  - ✅ 悬停效果和动画正常
  - ✅ 不同颜色主题正确应用

#### 2. **InfoCard** - 信息卡片组件
- **位置**: `src/components/common/InfoCard.vue`
- **用途**: 显示详细信息和元数据
- **自测**:
  - ✅ 图标和文字正确显示
  - ✅ 悬停效果正常
  - ✅ 颜色主题正确应用

#### 3. **TabNav** - 标签页导航组件
- **位置**: `src/components/common/TabNav.vue`
- **用途**: 提供标签页切换功能
- **自测**:
  - ✅ 标签页正确渲染
  - ✅ 激活状态正确切换
  - ✅ 点击事件正常触发
  - ✅ 响应式布局正常

#### 4. **Timeline** - 时间线组件
- **位置**: `src/components/common/Timeline.vue`
- **用途**: 显示时间线和历史记录
- **自测**:
  - ✅ 时间线轴正确显示
  - ✅ 时间点样式正确
  - ✅ 内容区域正常渲染
  - ✅ 不同状态的颜色区分

#### 5. **MetricProgress** - 指标进度条组件
- **位置**: `src/components/common/MetricProgress.vue`
- **用途**: 显示带进度条的指标数据
- **自测**:
  - ✅ 进度条动画正常
  - ✅ 数值和标签正确显示
  - ✅ 颜色主题正确应用
  - ✅ 变化趋势指示器正常

#### 6. **UserCard** - 用户卡片组件
- **位置**: `src/components/common/UserCard.vue`
- **用途**: 显示用户详细信息和统计
- **自测**:
  - ✅ 用户信息正确显示
  - ✅ 角色和状态徽章正常
  - ✅ 操作按钮功能正常
  - ✅ 统计数据正确展示

#### 7. **ProcessCard** - 流程卡片组件
- **位置**: `src/components/common/ProcessCard.vue`
- **用途**: 显示流程信息和操作
- **自测**:
  - ✅ 流程信息正确展示
  - ✅ 状态徽章正常显示
  - ✅ 点击事件正常触发
  - ✅ 复选框功能正常

#### 8. **InstanceStatusCard** - 实例状态卡片组件
- **位置**: `src/components/common/InstanceStatusCard.vue`
- **用途**: 显示流程实例状态信息
- **自测**:
  - ✅ 状态图标和颜色正确
  - ✅ 主要和次要信息正确显示
  - ✅ 悬停效果正常
  - ✅ 不同状态的样式区分

### 组件化优势

1. **代码复用**: 相同UI模式在多个页面中复用
2. **维护性**: 统一的样式和行为管理
3. **一致性**: 保证UI组件在整个应用中的一致性
4. **开发效率**: 快速构建新页面和功能
5. **可测试性**: 每个组件可以独立测试

## 🎨 样式一致性修复

### ProcessList 页面样式优化

针对用户反馈的搜索和筛选栏样式不一致问题，已完成以下修复：

#### 🔧 **修复内容**
1. **搜索框样式**：
   - 改为 flex 布局（图标 + 输入框）
   - 白色背景，8px 圆角
   - 图标颜色调整为 #6b7280
   - 移除绝对定位，使用 flex 布局

2. **视图切换按钮**：
   - 添加灰色背景 (#f3f4f6)
   - 激活按钮白色背景 + 蓝色文字
   - 添加轻微阴影效果
   - 8px 圆角设计

3. **表单选择框**：
   - 6px 圆角，标准边框样式
   - 聚焦时蓝色边框和阴影
   - 悬停效果优化

4. **响应式布局**：
   - 768px 断点：搜索框独占一行
   - 640px 断点：所有控件垂直排列
   - 保持与原型一致的响应式行为

#### 📋 **自测验证**
运行 `node test-process-list.js` 进行自动化验证：
```bash
node test-process-list.js
```

#### 🎯 **验证要点**
- ✅ 搜索框 flex 布局，图标在左侧
- ✅ 视图切换灰色背景，激活状态正确
- ✅ 表单控件标准样式和交互效果
- ✅ 响应式断点与原型一致
- ✅ 所有样式与 process-list.html 保持一致

## 🎨 按钮样式精确还原

### ProcessList 页面按钮尺寸修复

针对用户反馈的按钮尺寸不一致问题，已完成精确的1:1样式还原：

#### 🔧 **核心问题修复**
1. **Padding 调整**：
   - 修复前：`padding: var(--space-3) var(--space-4)` = `12px 16px`
   - 修复后：`padding: 8px 16px` (与原型完全一致)

2. **Line-height 添加**：
   - 新增：`line-height: 1` (确保按钮高度精确控制)

3. **Gap 调整**：
   - 修复前：`gap: var(--space-2)` = `8px`
   - 修复后：`gap: 6px` (与原型一致)

4. **颜色值固定化**：
   - 移除CSS变量，使用固定颜色值确保完全一致
   - 主按钮：`#3b82f6` → `#2563eb`
   - 次按钮：`#d1d5db` → `#9ca3af`

#### 📏 **尺寸验证结果**
- ✅ **返回按钮**: 85.5px × 32px (与原型完全一致)
- ✅ **导出按钮**: 85.5px × 32px (与原型完全一致)
- ✅ **创建流程按钮**: 101.5px × 32px (与原型完全一致)

#### 📋 **自测验证**
运行 `node test-button-styles.js` 进行自动化验证：
```bash
node test-button-styles.js
```

#### 🎯 **验证要点**
- ✅ 按钮基础样式完全匹配原型
- ✅ 主按钮和次按钮样式一致
- ✅ 悬停和点击交互效果正确
- ✅ 焦点状态样式完整
- ✅ 禁用状态样式正确

## 🎨 Card 样式精确还原

### ProcessList 页面 Card 容器样式修复

针对搜索和筛选栏缺少 `.card` 样式的问题，已完成精确的1:1样式还原：

#### 🔧 **核心问题修复**
1. **全局 Card 样式调整**：
   - 移除了全局 `.card` 样式的 `padding: 20px`
   - 保留了其他样式属性（背景色、圆角、阴影、边框）
   - 避免与其他页面产生双重 padding 冲突

2. **ProcessList 作用域样式添加**：
   ```css
   /* 为搜索和筛选栏容器添加作用域样式 */
   .search-filter-row {
     padding: 20px; /* 与原型完全一致 */
   }
   ```

3. **兼容性处理**：
   - 其他页面继续使用 `card p-6` 组合
   - 通过 Tailwind 的 `p-6` 类提供 padding
   - 避免了样式冲突

#### 🎯 **样式一致性验证**
- ✅ **背景色**: `white` (与原型一致)
- ✅ **圆角**: `12px` (与原型一致)
- ✅ **阴影**: `0 1px 3px rgba(0, 0, 0, 0.1)` (与原型一致)
- ✅ **边框**: `1px solid #e5e7eb` (与原型一致)
- ✅ **内边距**: `20px` (通过作用域样式实现)

#### 📋 **自测验证**
运行 `node test-card-styles.js` 进行自动化验证：
```bash
node test-card-styles.js
```

#### 🏗️ **结构对比**
```html
<!-- Vue版本 (修复后) -->
<div class="card mb-6" style="padding: 20px;">
  <div class="search-filter-row" style="padding: 0;">
    <!-- 搜索和筛选内容 -->
  </div>
</div>

<!-- 原型版本 (完全一致) -->
<div class="card mb-6">
  <div class="search-filter-row">
    <!-- 搜索和筛选内容 -->
  </div>
</div>
```

#### 🎯 **验证要点**
- ✅ Card 容器样式与原型完全一致
- ✅ 搜索和筛选栏 padding 为 20px (通过内联样式)
- ✅ 其他页面 Card 样式不受影响
- ✅ 避免了双重 padding 问题
- ✅ HTML结构与原型完全匹配

## 📝 开发说明

### 组件开发规范

1. 使用 Vue 3 Composition API
2. 遵循单文件组件结构 (`.vue`)
3. 使用 Tailwind CSS 进行样式设计
4. 保持组件的可复用性和可配置性
5. 提供完整的 TypeScript 支持 (未来扩展)

### 代码风格

- 使用 ESLint 进行代码检查
- 使用 Prettier 进行代码格式化
- 遵循 Vue.js 官方风格指南
- 组件名使用 PascalCase
- Props 使用 camelCase

### 部署说明

项目构建后可以部署到任何支持静态文件服务的平台：

- Nginx
- Apache
- Vercel
- Netlify
- GitHub Pages

## 🤝 贡献

1. Fork 本项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 打开 Pull Request

## 📄 许可证

本项目采用 MIT 许可证 - 查看 [LICENSE](LICENSE) 文件了解详情。

Copyright (c) 2025 peterfei  
Email: peterfeispace@gmail.com
